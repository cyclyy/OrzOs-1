<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0044)http://forum.osdev.org/viewtopic.php?t=10247 -->
<HTML lang=en-gb dir=ltr xml:lang="en-gb" 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>OSDev.org • View topic - Free PS/2 mouse code</TITLE>
<META http-equiv=content-type content="text/html; charset=UTF-8">
<META http-equiv=content-language content=en-gb>
<META http-equiv=content-style-type content=text/css>
<META http-equiv=imagetoolbar content=no>
<META content=document name=resource-type>
<META content=global name=distribution>
<META content="2000, 2002, 2005, 2007 phpBB Group" name=copyright>
<META content="" name=keywords>
<META content="" name=description>
<META http-equiv=X-UA-Compatible content=IE=EmulateIE7><LINK 
title="Feed - OSDev.org" href="http://forum.osdev.org/feed.php" 
type=application/atom+xml rel=alternate><LINK title="Feed - News" 
href="http://forum.osdev.org/feed.php?mode=news" type=application/atom+xml 
rel=alternate><LINK title="Feed - All forums" 
href="http://forum.osdev.org/feed.php?mode=forums" type=application/atom+xml 
rel=alternate><LINK title="Feed - New Topics" 
href="http://forum.osdev.org/feed.php?mode=topics" type=application/atom+xml 
rel=alternate><LINK title="Feed - Active Topics" 
href="http://forum.osdev.org/feed.php?mode=topics_active" 
type=application/atom+xml rel=alternate><LINK 
title="Feed - Forum - OS Development" href="http://forum.osdev.org/feed.php?f=1" 
type=application/atom+xml rel=alternate><LINK 
title="Feed - Topic - Free PS/2 mouse code" 
href="http://forum.osdev.org/feed.php?f=1&amp;t=10247" type=application/atom+xml 
rel=alternate><LINK href="p2.files/stylesheet.css" type=text/css rel=stylesheet>
<SCRIPT type=text/javascript>
// <![CDATA[


function popup(url, width, height, name)
{
	if (!name)
	{
		name = '_popup';
	}

	window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes,width=' + width);
	return false;
}

function jumpto()
{
	var page = prompt('Enter the page number you wish to go to:', '1');
	var per_page = '15';
	var base_url = './viewtopic.php?f=1&amp;t=10247';

	if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
	{
		if (base_url.indexOf('?') == -1)
		{
			document.location.href = base_url + '?start=' + ((page - 1) * per_page);
		}
		else
		{
			document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
		}
	}
}

/**
* Find a member
*/
function find_username(url)
{
	popup(url, 760, 570, '_usersearch');
	return false;
}

/**
* Mark/unmark checklist
* id = ID of parent container, name = name prefix, state = state [true/false]
*/
function marklist(id, name, state)
{
	var parent = document.getElementById(id);
	if (!parent)
	{
		eval('parent = document.' + id);
	}

	if (!parent)
	{
		return;
	}

	var rb = parent.getElementsByTagName('input');
	
	for (var r = 0; r < rb.length; r++)
	{
		if (rb[r].name.substr(0, name.length) == name)
		{
			rb[r].checked = state;
		}
	}
}



// ]]>
</SCRIPT>

<META content="MSHTML 6.00.2900.6036" name=GENERATOR></HEAD>
<BODY class=ltr><A name=top></A>
<DIV id=wrapheader>
<DIV id=logodesc>
<TABLE cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD><A href="http://forum.osdev.org/index.php"><IMG title="" height=100 
      alt="" src="p2.files/osdev.png" width=120></A></TD>
    <TD align=middle width="100%">
      <H1>OSDev.org</H1><SPAN class=gen>The Place to Start for Operating System 
      Developers</SPAN></TD></TR></TBODY></TABLE></DIV>
<DIV id=menubar>
<TABLE cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD class=genmed><A href="http://forum.osdev.org/ucp.php?mode=login"><IMG 
      height=13 alt=* src="p2.files/icon_mini_login.gif" width=12> 
      Login</A>&nbsp; &nbsp;<A 
      href="http://forum.osdev.org/ucp.php?mode=register"><IMG height=13 alt=* 
      src="p2.files/icon_mini_register.gif" width=12> Register</A> </TD>
    <TD class=genmed align=right><A style="FONT-WEIGHT: bold; FONT-SIZE: 125%" 
      href="http://wiki.osdev.org/">The OSDev.org Wiki - Got a question? Search 
      this first!</A> <A href="http://forum.osdev.org/faq.php"><IMG height=13 
      alt=* src="p2.files/icon_mini_faq.gif" width=12> FAQ</A> &nbsp; &nbsp;<A 
      href="http://forum.osdev.org/search.php"><IMG height=13 alt=* 
      src="p2.files/icon_mini_search.gif" width=12> Search</A> 
</TD></TR></TBODY></TABLE></DIV>
<DIV id=datebar>
<TABLE cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD class=gensmall></TD>
    <TD class=gensmall align=right>It is currently Sat Jul 16, 2011 3:21 
    am<BR></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV id=wrapcentre>
<P class=searchbar><SPAN style="FLOAT: left"><A 
href="http://forum.osdev.org/search.php?search_id=unanswered">View unanswered 
posts</A> | <A 
href="http://forum.osdev.org/search.php?search_id=active_topics">View active 
topics</A></SPAN> </P><BR style="CLEAR: both">
<TABLE class=tablebg style="MARGIN-TOP: 5px" cellSpacing=1 cellPadding=0 
width="100%">
  <TBODY>
  <TR>
    <TD class=row1>
      <P class=breadcrumbs><A href="http://forum.osdev.org/index.php">Board 
      index</A> » <A href="http://forum.osdev.org/viewforum.php?f=16">Operating 
      System Development</A> » <A 
      href="http://forum.osdev.org/viewforum.php?f=1">OS Development</A></P>
      <P class=datetime>All times are UTC - 6 hours </P></TD></TR></TBODY></TABLE><BR>
<DIV id=pageheader>
<H2><A class=titles 
href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=0">Free 
PS/2 mouse code</A></H2>
<P class=moderators>Moderators: <A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2600">os64dev</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1902">Candy</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2">chase</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1950">AJ</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=356">Brendan</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=3731">01000101</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=155">carbonBased</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=3781">JamesM</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=117">kmcguire</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=3016">mystran</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=67">JAAman</A>, 
<A 
href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1922">quok</A></P></DIV><BR 
clear=all><BR>
<DIV id=pagecontent>
<TABLE cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TD vAlign=center noWrap align=left><A 
      href="http://forum.osdev.org/posting.php?mode=post&amp;f=1"><IMG 
      title="Post new topic" alt="Post new topic" 
      src="p2.files/button_topic_new.gif"></A>&nbsp;<A 
      href="http://forum.osdev.org/posting.php?mode=reply&amp;f=1&amp;t=10247"><IMG 
      title="Reply to topic" alt="Reply to topic" 
      src="p2.files/button_topic_reply.gif"></A> </TD>
    <TD class=nav vAlign=center noWrap>&nbsp;Page <STRONG>1</STRONG> of 
      <STRONG>2</STRONG><BR></TD>
    <TD class=gensmall noWrap>&nbsp;[ 18 posts ]&nbsp;</TD>
    <TD class=gensmall noWrap align=right width="100%"><B><A 
      title="Click to jump to page…" onclick="jumpto(); return false;" 
      href="http://forum.osdev.org/viewtopic.php?t=10247#">Go to page</A> 
      <STRONG>1</STRONG><SPAN class=page-sep>, </SPAN><A 
      href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=15">2</A> 
      &nbsp;<A 
      href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=15">Next</A></B></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TD class=cat>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=nav noWrap>&nbsp; <A title="Print view" 
            href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=0&amp;view=print">Print 
            view</A> </TD>
          <TD class=nav noWrap align=right><A 
            href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;view=previous">Previous 
            topic</A> | <A 
            href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;view=next">Next 
            topic</A>&nbsp;</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TH>Author</TH>
    <TH>Message</TH></TR>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66252></A><B 
      class=postauthor>SANiK</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Free PS/2 mouse 
            code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66252#p66252"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Mon Feb 14, 2005 4:26 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>
            <DIV class=codetitle><B>Code:</B></DIV>
            <DIV class=codecontent>//Mouse.inc by SANiK<BR>//License: Use as you 
            wish, except to cause damage<BR>byte mouse_cycle=0;&nbsp; &nbsp; 
            &nbsp;//unsigned char<BR>sbyte mouse_byte[3];&nbsp; &nbsp; //signed 
            char<BR>sbyte mouse_x=0;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//signed 
            char<BR>sbyte mouse_y=0;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//signed 
            char<BR><BR>//Mouse functions<BR>void mouse_handler(struct regs 
            *a_r) //struct regs *a_r (not used but just there)<BR>{<BR>&nbsp; 
            switch(mouse_cycle)<BR>&nbsp; {<BR>&nbsp; &nbsp; case 0:<BR>&nbsp; 
            &nbsp; &nbsp; mouse_byte[0]=inportb(0x60);<BR>&nbsp; &nbsp; &nbsp; 
            mouse_cycle++;<BR>&nbsp; &nbsp; &nbsp; break;<BR>&nbsp; &nbsp; case 
            1:<BR>&nbsp; &nbsp; &nbsp; mouse_byte[1]=inportb(0x60);<BR>&nbsp; 
            &nbsp; &nbsp; mouse_cycle++;<BR>&nbsp; &nbsp; &nbsp; 
            break;<BR>&nbsp; &nbsp; case 2:<BR>&nbsp; &nbsp; &nbsp; 
            mouse_byte[2]=inportb(0x60);<BR>&nbsp; &nbsp; &nbsp; 
            mouse_x=mouse_byte[1];<BR>&nbsp; &nbsp; &nbsp; 
            mouse_y=mouse_byte[2];<BR>&nbsp; &nbsp; &nbsp; 
            mouse_cycle=0;<BR>&nbsp; &nbsp; &nbsp; break;<BR>&nbsp; 
            }<BR>}<BR><BR>inline void mouse_wait(byte a_type) //unsigned 
            char<BR>{<BR>&nbsp; dword _time_out=100000; //unsigned int<BR>&nbsp; 
            if(a_type==0)<BR>&nbsp; {<BR>&nbsp; &nbsp; while(_time_out--) 
            //Data<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; if((inportb(0x64) 
            &amp; 1)==1)<BR>&nbsp; &nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; 
            &nbsp; return;<BR>&nbsp; &nbsp; &nbsp; }<BR>&nbsp; &nbsp; 
            }<BR>&nbsp; &nbsp; return;<BR>&nbsp; }<BR>&nbsp; else<BR>&nbsp; 
            {<BR>&nbsp; &nbsp; while(_time_out--) //Signal<BR>&nbsp; &nbsp; 
            {<BR>&nbsp; &nbsp; &nbsp; if((inportb(0x64) &amp; 2)==0)<BR>&nbsp; 
            &nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; &nbsp; return;<BR>&nbsp; 
            &nbsp; &nbsp; }<BR>&nbsp; &nbsp; }<BR>&nbsp; &nbsp; 
            return;<BR>&nbsp; }<BR>}<BR><BR>inline void mouse_write(byte 
            a_write) //unsigned char<BR>{<BR>&nbsp; //Wait to be able to send a 
            command<BR>&nbsp; mouse_wait(1);<BR>&nbsp; //Tell the mouse we are 
            sending a command<BR>&nbsp; outportb(0x64, 0xD4);<BR>&nbsp; //Wait 
            for the final part<BR>&nbsp; mouse_wait(1);<BR>&nbsp; //Finally 
            write<BR>&nbsp; outportb(0x60, a_write);<BR>}<BR><BR>byte 
            mouse_read()<BR>{<BR>&nbsp; //Get's response from mouse<BR>&nbsp; 
            mouse_wait(0); <BR>&nbsp; return inportb(0x60);<BR>}<BR><BR>void 
            mouse_install()<BR>{<BR>&nbsp; byte _status;&nbsp; //unsigned 
            char<BR><BR>&nbsp; //Enable the auxiliary mouse device<BR>&nbsp; 
            mouse_wait(1);<BR>&nbsp; outportb(0x64, 0xA8);<BR>&nbsp; <BR>&nbsp; 
            //Enable the interrupts<BR>&nbsp; mouse_wait(1);<BR>&nbsp; 
            outportb(0x64, 0x20);<BR>&nbsp; mouse_wait(0);<BR>&nbsp; 
            _status=(inportb(0x60) | 2);<BR>&nbsp; mouse_wait(1);<BR>&nbsp; 
            outportb(0x64, 0x60);<BR>&nbsp; mouse_wait(1);<BR>&nbsp; 
            outportb(0x60, _status);<BR>&nbsp; <BR>&nbsp; //Tell the mouse to 
            use default settings<BR>&nbsp; mouse_write(0xF6);<BR>&nbsp; 
            mouse_read();&nbsp; //Acknowledge<BR>&nbsp; <BR>&nbsp; //Enable the 
            mouse<BR>&nbsp; mouse_write(0xF4);<BR>&nbsp; mouse_read();&nbsp; 
            //Acknowledge<BR><BR>&nbsp; //Setup the mouse handler<BR>&nbsp; 
            irq_install_handler(12, mouse_handler);<BR>}<BR></DIV><BR><BR>Eat 
            up!<BR>It's been tested in Boch's, VMWare, and on real hardware and 
            it works on all 3 platforms.<BR>Due to the lack of PS/2 mouse 
            documention, I offer this code as documention itself meaning there 
            are no royalties and crap like 
            that.<BR><BR>Credits:<BR>Warmaster199/Hopeless for having me write 
            the driver in the first place =P<BR>Froggey and Journey for testing 
            the countless lines of code.<BR><BR>Just having everyone reach 
            equillibrium...<BR><BR>------<BR>*edit*<BR>------<BR><A 
            class=postlink 
            href="http://www.osdever.net/forums/viewtopic.php?t=1395">http://www.osdever.net/forums/viewtopic.php?t=1395</A><BR>VESA 
            pmode detection routine. Easy and nothing trivial there.</DIV><BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66253></A><B 
      class=postauthor>Pype.Clicker</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66253#p66253"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Tue Feb 15, 2005 2:48 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member src="p2.files/5.gif"></TD></TR>
        <TR>
          <TD><IMG height=64 alt="User avatar" src="p2.files/1903.gif" 
            width=64></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Wed Oct 18, 2006 2:31 
      am<BR><B>Posts:</B> 5959<BR><B>Location:</B> In a galaxy, far, far away 
      </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>someone around here has suggested some PS2 code 
            could be non-working because inb/outb macros were not including 
            waits. Do your inb/outb have something special or do they simply 
            perform "in DX,AL" and "out AL,DX" as we should expect them to do 
            ?<BR><BR>tnx for the code, by the way. I was just searching for some 
            quick-to-integrate PS2 mouse code for Clicker <IMG title=Smile 
            alt=:-) src="p2.files/icon_smile.gif"></DIV><SPAN 
            class=postbody><BR>_________________<BR>May the source be with 
            you.</SPAN> <BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1903"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66254></A><B 
      class=postauthor>mystran</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66254#p66254"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Tue Feb 15, 2005 6:20 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>It was me that suggested it, and it was totally 
            random thought to a "this does not work"-type question; I've noticed 
            that while Bochs/VMWare might not care about delays, not having them 
            when doing IO to some devices on real machine can cause all kinds of 
            interesting problems.<BR><BR>I don't really know much about PS/2 
            programming, and I don't actually have any idea if PS/2 mice are 
            affected by the issue, although I remember writing a driver once 
            when I was still programming for DOS, which more or less means 
            pre-1995. <IMG title=Wink alt=;) 
            src="p2.files/icon_wink.gif"><BR><BR>edit: Oh, and it was Sanik who 
            asked for what might be wrong. <IMG title=Smile alt=:) 
            src="p2.files/icon_smile.gif"></DIV><BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66255></A><B 
      class=postauthor>SANiK</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66255#p66255"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Tue Feb 15, 2005 2:54 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>mystran, yeah, I had fixed it.<BR><BR>I went 
            through like 30 different initiation methods before I got one that 
            works.<BR>Ooh, and thanks about the "quick-to-integrate PS2 mouse 
            code."<BR>I try to stick to the 'self-sufficient' coding style in 
            which each component (One C file) relies as little as possible on 
            other pieces.<BR><BR>The reason most of the tutorials and documents 
            I tryed didn't work was that they simply forgot to or used:<BR>1) 
            Add a time out for the mouse<BR>2) Didn't wait to acknowledge the 
            returned command from the mouse<BR>3) Wrong in/out addresses or 
            commands<BR><BR>There should be a driver-dev forum on here =P (Just 
            kidding though, that would be asking for too much)<BR>Many osdevers 
            overlook the very people who would write drivers for them.</DIV><BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66256></A><B 
      class=postauthor>Candy</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66256#p66256"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 2:41 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member 
      src="p2.files/5.gif"></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Tue Oct 17, 2006 11:33 
      pm<BR><B>Posts:</B> 3697<BR><B>Location:</B> ZZ9 Plural Z Alpha </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>
            <DIV class=quotetitle>Pype.Clicker wrote:</DIV>
            <DIV class=quotecontent>...have something special or do they simply 
            perform "in DX,AL" and "out AL,DX" as we should expect them to do 
            ?<BR></DIV><BR>I'd make that "out DX, AL".</DIV><SPAN 
            class=postbody><BR>_________________<BR><A class=postlink 
            href="http://www.atlantisos.org/sfs.html">SFS</A></SPAN> <BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1902"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66257></A><B 
      class=postauthor>B.E</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66257#p66257"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 2:44 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>
            <DIV class=quotetitle>Candy wrote:</DIV>
            <DIV class=quotecontent>
            <DIV class=quotetitle>Pype.Clicker wrote:</DIV>
            <DIV class=quotecontent>...have something special or do they simply 
            perform "in DX,AL" and "out AL,DX" as we should expect them to do 
            ?<BR></DIV><BR>I'd make that "out DX, AL".<BR></DIV><BR><BR>It 
            depends on what compiler you use, for example TASM and MASM use 
            destination, source while NASM uses source, destination</DIV><BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66258></A><B 
      class=postauthor>Pype.Clicker</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66258#p66258"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 2:59 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member src="p2.files/5.gif"></TD></TR>
        <TR>
          <TD><IMG height=64 alt="User avatar" src="p2.files/1903.gif" 
            width=64></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Wed Oct 18, 2006 2:31 
      am<BR><B>Posts:</B> 5959<BR><B>Location:</B> In a galaxy, far, far away 
      </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>sorry for messing things up. I must have used 
            GCC inline assembly for too long ... NASM, MASM and TASM both use 
            the intel-suggested order of "out DX,AL", of course ... The 
            underlying question was whether there were additionnal wait states 
            etc.<BR><BR>Tnx for the code again: whyme_t has started integrating 
            it in clicker <IMG title=Wink alt=;) 
            src="p2.files/icon_wink.gif"></DIV><SPAN 
            class=postbody><BR>_________________<BR>May the source be with 
            you.</SPAN> <BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1903"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66259></A><B 
      class=postauthor>distantvoices</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66259#p66259"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 3:01 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member 
      src="p2.files/5.gif"></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Wed Oct 18, 2006 11:59 
      am<BR><B>Posts:</B> 1600<BR><B>Location:</B> Vienna/Austria </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>can we expect clicker to have a funky cursor 
            moving around when the mouse is touched - soon? ];-&gt;</DIV><SPAN 
            class=postbody><BR>_________________<BR>... the osdever formerly 
            known as <SPAN style="FONT-STYLE: italic">beyond infinity</SPAN> ... 
            <BR><A class=postlink 
            href="http://www.distantvoices.org/download/blueillusion.iso.gz">BlueillusionOS 
            iso image</A></SPAN> <BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1917"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66260></A><B 
      class=postauthor>Pype.Clicker</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66260#p66260"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 4:33 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member src="p2.files/5.gif"></TD></TR>
        <TR>
          <TD><IMG height=64 alt="User avatar" src="p2.files/1903.gif" 
            width=64></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Wed Oct 18, 2006 2:31 
      am<BR><B>Posts:</B> 5959<BR><B>Location:</B> In a galaxy, far, far away 
      </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>hehe ... i guess yes ... Say, BI, don't you wish 
            to be hired by the Clicker team and port your VM86/VBE code on 
            another birthing platform ?</DIV><SPAN 
            class=postbody><BR>_________________<BR>May the source be with 
            you.</SPAN> <BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1903"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66261></A><B 
      class=postauthor>distantvoices</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66261#p66261"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Wed Feb 16, 2005 5:09 
        am&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member 
      src="p2.files/5.gif"></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Wed Oct 18, 2006 11:59 
      am<BR><B>Posts:</B> 1600<BR><B>Location:</B> Vienna/Austria </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>No problem. I gonna give it a shot, but no 
            promises or deadlines. *gg* <BR><BR>I have a GUI to complete and a 
            File System Service to flesh out too(file remove is pretty 
            incomplete - no blocks freed, no inode freed, dir entry remains 
            intact, only te vfs entry gets lost) - and the BlueIllusion Text 
            editor waits to be completed and tested. *gg* <BR><BR>[ot]<BR>The 
            past four weeks I have spent with <BR><SPAN 
            style="FONT-STYLE: italic">debug sessions darker than night</SPAN> 
            just to find out that my reverse page mappings got overwritten due 
            to unintended multiple hand out of already dealt out pages (merde) - 
            so time to bork out for the Memory Manager.<BR>[/ot]</DIV><SPAN 
            class=postbody><BR>_________________<BR>... the osdever formerly 
            known as <SPAN style="FONT-STYLE: italic">beyond infinity</SPAN> ... 
            <BR><A class=postlink 
            href="http://www.distantvoices.org/download/blueillusion.iso.gz">BlueillusionOS 
            iso image</A></SPAN> <BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=1917"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66262></A><B 
      class=postauthor>SANiK</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66262#p66262"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Fri Feb 18, 2005 4:18 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>I think I missed a function, which would be the 
            mouse_detect() function. The only way I think one can do it is 
            actually checking if the mouse returns a 0xFA in the mouse_read 
            function.<BR>Did anybody find any documention on this?</DIV><BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66263></A><B 
      class=postauthor>Perica</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66263#p66263"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Fri Feb 18, 2005 5:00 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member 
      src="p2.files/4.gif"></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Sat Nov 25, 2006 12:50 
      am<BR><B>Posts:</B> 454 </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>..</DIV><BR><BR><SPAN class=gensmall>Last edited 
            by <A 
            href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2152">Perica</A> 
            on Tue Dec 05, 2006 9:41 pm, edited 1 time in total.</SPAN> <BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2152"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66264></A><B 
      class=postauthor>SANiK</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66264#p66264"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Fri Feb 18, 2005 6:04 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD></TD></TR></TBODY></TABLE><SPAN class=postdetails></SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>Well, all the waits I've seen are loops which 
            repeatedly keep polling the mouse till it's done.<BR><BR>You could 
            add a 'hlt' in there to slow down the processer and to cool off the 
            PC, but it is required to keep polling the mouse. That step seems to 
            be needed. Although, as for the constant looping, one can make a 
            time table of how many Hz it takes the mouse to complete certain 
            operations.</DIV><BR clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;&nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row2>
    <TD vAlign=center align=middle><A name=p66265></A><B 
      class=postauthor>Perica</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66265#p66265"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Fri Feb 18, 2005 9:29 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member 
      src="p2.files/4.gif"></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Sat Nov 25, 2006 12:50 
      am<BR><B>Posts:</B> 454 </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>..</DIV><BR><BR><SPAN class=gensmall>Last edited 
            by <A 
            href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2152">Perica</A> 
            on Tue Dec 05, 2006 9:41 pm, edited 1 time in total.</SPAN> <BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row2>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=2152"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR class=row1>
    <TD vAlign=center align=middle><A name=p66266></A><B 
      class=postauthor>Brendan</B> </TD>
    <TD width="100%" height=25>
      <TABLE cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD class=gensmall width="100%">
            <DIV style="FLOAT: left">&nbsp;<B>Post subject:</B> Re:Free PS/2 
            mouse code</DIV>
            <DIV style="FLOAT: right"><A 
            href="http://forum.osdev.org/viewtopic.php?p=66266#p66266"><IMG 
            title=Post height=9 alt=Post src="p2.files/icon_post_target.gif" 
            width=12></A><B>Posted:</B> Fri Feb 18, 2005 10:34 
        pm&nbsp;</DIV></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile vAlign=top>
      <TABLE cellSpacing=4 width=150 align=center>
        <TBODY>
        <TR>
          <TD><IMG title=Offline alt=Offline 
            src="p2.files/icon_user_offline.gif"></TD></TR>
        <TR>
          <TD class=postdetails>Member</TD></TR>
        <TR>
          <TD><IMG title=Member alt=Member src="p2.files/5.gif"></TD></TR>
        <TR>
          <TD><IMG height=32 alt="User avatar" src="p2.files/sylvester.gif" 
            width=32></TD></TR></TBODY></TABLE><SPAN 
      class=postdetails><BR><B>Joined:</B> Sat Jan 15, 2005 12:00 
      am<BR><B>Posts:</B> 3897<BR><B>Location:</B> At his keyboard! </SPAN></TD>
    <TD vAlign=top>
      <TABLE cellSpacing=5 width="100%">
        <TBODY>
        <TR>
          <TD>
            <DIV class=postbody>Hi,<BR><BR>
            <DIV class=quotetitle>Perica wrote:</DIV>
            <DIV class=quotecontent>About the port input/output waits, what kind 
            of wait would be sufficient (a [tt]nop[/tt], 
            maybe?)?</DIV><BR><BR>Some history. Some computers where buggy and 
            didn't delay the CPU long enough when IO ports where accessed. On 
            these buggy computers you need a delay between IO instructions to 
            the same chip/device to give that chip/device time to react. An 
            example here would be changing the PIT chip from lowbyte/highbyte to 
            highbyte only, and then immediately trying to read the count - if 
            the PIT chip hasn't had enough time to react to the first IO write 
            it could still be in lowbyte/highbyte mode when you read the count, 
            so that the lowbyte is read rather than the highbyte.<BR><BR>To 
            prevent this a delay between the IO port accesses is needed on the 
            buggy computers. This delay can be done by accessing an unrelated IO 
            port, or with a near jump.<BR><BR>Fortunately the buggy computers 
            were early 80386 and 80286, and these IO port delays are not needed 
            for anything more modern.<BR><BR>For a much better description of 
            the problem, see section 7.9.4 of "pctim003.txt" (at <!-- m --><A 
            class=postlink 
            href="http://www.contactor.se/~daniel/links/Pctim003.txt">http://www.contactor.se/~daniel/links/Pctim003.txt</A><!-- m -->).<BR><BR><BR>Cheers,<BR><BR>Brendan</DIV><SPAN 
            class=postbody><BR>_________________<BR>The BCOS Project:<BR><!-- m --><A class=postlink 
            href="http://bcos.hopto.org/">http://bcos.hopto.org/</A><!-- m --><BR><BR><SPAN 
            style="FONT-STYLE: italic">Slow code that scales better can be 
            faster than fast code that doesn't scale!</SPAN></SPAN> <BR 
            clear=all><BR>
            <TABLE cellSpacing=0 width="100%">
              <TBODY>
              <TR vAlign=center>
                <TD class=gensmall 
        align=right></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
  <TR class=row1>
    <TD class=profile><STRONG><A 
      href="http://forum.osdev.org/viewtopic.php?t=10247#wrapheader">Top</A></STRONG></TD>
    <TD>
      <DIV class=gensmall style="FLOAT: left">&nbsp;<A 
      href="http://forum.osdev.org/memberlist.php?mode=viewprofile&amp;u=356"><IMG 
      title=Profile alt=Profile src="p2.files/icon_user_profile.gif"></A> 
      &nbsp;</DIV>
      <DIV class=gensmall style="FLOAT: right"></DIV></TD></TR>
  <TR>
    <TD class=spacer colSpan=2 height=1><IMG height=1 alt="" 
      src="p2.files/spacer.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR align=middle>
    <TD class=cat>
      <FORM name=viewtopic action=./viewtopic.php?f=1&amp;t=10247&amp;start=0 
      method=post><SPAN class=gensmall>Display posts from previous:</SPAN> 
      <SELECT id=st name=st><OPTION value=0 selected>All posts</OPTION><OPTION 
        value=1>1 day</OPTION><OPTION value=7>7 days</OPTION><OPTION value=14>2 
        weeks</OPTION><OPTION value=30>1 month</OPTION><OPTION value=90>3 
        months</OPTION><OPTION value=180>6 months</OPTION><OPTION value=365>1 
        year</OPTION></SELECT>&nbsp;<SPAN class=gensmall>Sort by</SPAN> <SELECT 
      id=sk name=sk><OPTION value=a>Author</OPTION><OPTION value=t 
        selected>Post time</OPTION><OPTION value=s>Subject</OPTION></SELECT> 
      <SELECT id=sd name=sd><OPTION value=a selected>Ascending</OPTION><OPTION 
        value=d>Descending</OPTION></SELECT>&nbsp;<INPUT class=btnlite type=submit value=Go name=sort></FORM></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TD vAlign=center noWrap align=left><A 
      href="http://forum.osdev.org/posting.php?mode=post&amp;f=1"><IMG 
      title="Post new topic" alt="Post new topic" 
      src="p2.files/button_topic_new.gif"></A>&nbsp;<A 
      href="http://forum.osdev.org/posting.php?mode=reply&amp;f=1&amp;t=10247"><IMG 
      title="Reply to topic" alt="Reply to topic" 
      src="p2.files/button_topic_reply.gif"></A> </TD>
    <TD class=nav vAlign=center noWrap>&nbsp;Page <STRONG>1</STRONG> of 
      <STRONG>2</STRONG><BR></TD>
    <TD class=gensmall noWrap>&nbsp;[ 18 posts ]&nbsp;</TD>
    <TD class=gensmall noWrap align=right width="100%"><B><A 
      title="Click to jump to page…" onclick="jumpto(); return false;" 
      href="http://forum.osdev.org/viewtopic.php?t=10247#">Go to page</A> 
      <STRONG>1</STRONG><SPAN class=page-sep>, </SPAN><A 
      href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=15">2</A> 
      &nbsp;<A 
      href="http://forum.osdev.org/viewtopic.php?f=1&amp;t=10247&amp;start=15">Next</A></B></TD></TR></TBODY></TABLE></DIV>
<DIV id=pagefooter></DIV><BR clear=all>
<TABLE class=tablebg style="MARGIN-TOP: 5px" cellSpacing=1 cellPadding=0 
width="100%">
  <TBODY>
  <TR>
    <TD class=row1>
      <P class=breadcrumbs><A href="http://forum.osdev.org/index.php">Board 
      index</A> » <A href="http://forum.osdev.org/viewforum.php?f=16">Operating 
      System Development</A> » <A 
      href="http://forum.osdev.org/viewforum.php?f=1">OS Development</A></P>
      <P class=datetime>All times are UTC - 6 hours </P></TD></TR></TBODY></TABLE><BR 
clear=all>
<TABLE class=tablebg cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TD class=cat>
      <H4>Who is online</H4></TD></TR>
  <TR>
    <TD class=row1>
      <P class=gensmall>Users browsing this forum: <SPAN class=username-coloured 
      style="COLOR: #9e8da7">Google [Bot]</SPAN> and 4 
guests</P></TD></TR></TBODY></TABLE><BR clear=all>
<TABLE cellSpacing=1 width="100%">
  <TBODY>
  <TR>
    <TD vAlign=top noWrap align=left width="40%"></TD>
    <TD vAlign=top noWrap align=right><SPAN class=gensmall>You 
      <STRONG>cannot</STRONG> post new topics in this forum<BR>You 
      <STRONG>cannot</STRONG> reply to topics in this forum<BR>You 
      <STRONG>cannot</STRONG> edit your posts in this forum<BR>You 
      <STRONG>cannot</STRONG> delete your posts in this forum<BR>You 
      <STRONG>cannot</STRONG> post attachments in this 
  forum<BR></SPAN></TD></TR></TBODY></TABLE><BR clear=all>
<TABLE cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD>
      <FORM name=search action=./search.php?t=10247 method=post><SPAN 
      class=gensmall>Search for:</SPAN> <INPUT class=post name=keywords> <INPUT class=btnlite type=submit value=Go></FORM></TD>
    <TD align=right>
      <FORM name=jumpbox 
      onsubmit="if(document.jumpbox.f.value == -1){return false;}" 
      action=./viewforum.php method=post>
      <TABLE cellSpacing=0 cellPadding=0 border=0>
        <TBODY>
        <TR>
          <TD noWrap><SPAN class=gensmall>Jump to:</SPAN>&nbsp;<SELECT 
            onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }" 
            name=f> <OPTION value=-1>Select a forum</OPTION> <OPTION 
              value=-1>------------------</OPTION> <OPTION value=16>Operating 
              System Development</OPTION> <OPTION value=1 selected>&nbsp; 
              &nbsp;OS Development</OPTION> <OPTION value=15>&nbsp; &nbsp;OS 
              Design &amp; Theory</OPTION> <OPTION value=2>&nbsp; 
              &nbsp;Announcements, Test Requests, &amp; Job openings</OPTION> 
              <OPTION value=17>Everything Else</OPTION> <OPTION value=13>&nbsp; 
              &nbsp;General Programming</OPTION> <OPTION value=11>&nbsp; 
              &nbsp;General Ramblings</OPTION> <OPTION value=7>&nbsp; 
              &nbsp;Auto-Delete Forum</OPTION> <OPTION 
              value=18>OSDev.org</OPTION> <OPTION value=8>&nbsp; &nbsp;OSDev 
              Wiki</OPTION> <OPTION value=6>&nbsp; &nbsp;About this 
            site</OPTION></SELECT>&nbsp;<INPUT class=btnlite type=submit value=Go></TD></TR></TBODY></TABLE></FORM></TD></TR></TBODY></TABLE></DIV><!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB3. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB" line, with
	"phpBB" linked to www.phpbb.com. If you refuse to include even this then support on our
	forums may be affected.

	The phpBB Group : 2006
//-->
<DIV id=wrapfooter><SPAN class=copyright>Powered by <A 
href="http://www.phpbb.com/">phpBB</A> © 2000, 2002, 2005, 2007 phpBB Group 
</SPAN></DIV></BODY></HTML>
